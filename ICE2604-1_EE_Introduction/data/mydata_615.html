<!DOCTYPE html>
<html>
<head>
<title>metaphone</title>
</head>
<body>
<div class="mw-parser-output"><style data-mw-deduplicate="TemplateStyles:r1033289096">.mw-parser-output .hatnote{font-style:italic}.mw-parser-output div.hatnote{padding-left:1.6em;margin-bottom:0.5em}.mw-parser-output .hatnote i{font-style:normal}.mw-parser-output .hatnote+link+.hatnote{margin-top:-0.5em}</style>
<p><b>Metaphone</b> is a phonetic algorithm, published by Lawrence Philips in 1990, for indexing words by their English pronunciation.<sup class="reference" id="cite_ref-1">[1]</sup> It fundamentally improves on the Soundex algorithm by using information about variations and inconsistencies in English spelling and pronunciation to produce a more accurate encoding, which does a better job of matching words and names which sound similar. As with Soundex, similar-sounding words should share the same keys. Metaphone is available as a built-in operator in a number of systems.
</p><p>Philips later produced a new version of the algorithm, which he named Double Metaphone. Contrary to the original algorithm whose application is limited to English only, this version takes into account spelling peculiarities of a number of other languages. In 2009 Philips released a third version, called Metaphone 3, which achieves an accuracy of approximately 99% for English words, non-English words familiar to Americans, and first names and family names commonly found in the United States, having been developed according to modern engineering standards against a test harness of prepared correct encodings.
</p>

<h2><span class="mw-headline" id="Procedure">Procedure</span><span class="mw-editsection"></span></h2>
<p>Original Metaphone codes use the 16 consonant symbols 0BFHJKLMNPRSTWXY. The '0' represents "th" (as an ASCII approximation of Θ), 'X' represents "sh" or "ch", and the others represent their usual English pronunciations.  The vowels AEIOU are also used, but only at the beginning of the code.<sup class="reference" id="cite_ref-2">[2]</sup> This table summarizes most of the rules in the original implementation:
</p>
<ol><li>Drop duplicate adjacent letters, except for C.</li>
<li>If the word begins with 'KN', 'GN', 'PN', 'AE', 'WR', drop the first letter.</li>
<li>Drop 'B' if after 'M' at the end of the word.</li>
<li>'C' transforms to 'X' if followed by 'IA' or 'H' (unless in latter case, it is part of '-SCH-', in which case it transforms to 'K'). 'C' transforms to 'S' if followed by 'I', 'E', or 'Y'. Otherwise, 'C' transforms to 'K'.</li>
<li>'D' transforms to 'J' if followed by 'GE', 'GY', or 'GI'. Otherwise, 'D' transforms to 'T'.</li>
<li>Drop 'G' if followed by 'H' and 'H' is not at the end or before a vowel. Drop 'G' if followed by 'N' or 'NED' and is at the end.</li>
<li>'G' transforms to 'J' if before 'I', 'E', or 'Y', and it is not in 'GG'. Otherwise, 'G' transforms to 'K'.</li>
<li>Drop 'H' if after vowel and not before a vowel.</li>
<li>'CK' transforms to 'K'.</li>
<li>'PH' transforms to 'F'.</li>
<li>'Q' transforms to 'K'.</li>
<li>'S' transforms to 'X' if followed by 'H', 'IO', or 'IA'.</li>
<li>'T' transforms to 'X' if followed by 'IA' or 'IO'. 'TH' transforms to '0'. Drop 'T' if followed by 'CH'.</li>
<li>'V' transforms to 'F'.</li>
<li>'WH' transforms to 'W' if at the beginning. Drop 'W' if not followed by a vowel.</li>
<li>'X' transforms to 'S' if at the beginning. Otherwise, 'X' transforms to 'KS'.</li>
<li>Drop 'Y' if not followed by a vowel.</li>
<li>'Z' transforms to 'S'.</li>
<li>Drop all vowels unless it is the beginning.</li></ol>
<p>This table does not constitute a complete description of the original Metaphone algorithm, and the algorithm cannot be coded correctly from it. Original Metaphone contained many errors and was superseded by Double Metaphone, and in turn Double Metaphone and original Metaphone were superseded by Metaphone 3, which corrects thousands of miscodings that will be produced by the first two versions.
</p><p>To implement Metaphone without purchasing a (source code) copy of Metaphone 3, the reference implementation of Double Metaphone can be used.<sup class="reference" id="cite_ref-3">[3]</sup>  Alternatively, version 2.1.3 of Metaphone 3, an earlier 2009 version without a number of encoding corrections made in the current version, version 2.5.4, has been made available under the terms of the BSD License via the OpenRefine project.<sup class="reference" id="cite_ref-4">[4]</sup>
</p>
<h2><span class="mw-headline" id="Double_Metaphone">Double Metaphone  <span class="anchor" id="Double_Metaphone"></span></span><span class="mw-editsection"></span></h2>
<p>The Double Metaphone phonetic encoding algorithm is the second generation of this algorithm. Its implementation was described in the June 2000 issue of <i>C/C++ Users Journal</i>.<sup class="reference" id="cite_ref-5">[5]</sup> It makes a number of fundamental design improvements over the original Metaphone algorithm.
</p><p>It is called "Double" because it can return both a primary and a secondary code for a string; this accounts for some ambiguous cases as well as for multiple variants of surnames with common ancestry. For example, encoding the name "Smith" yields a primary code of <i>SM0</i> and a secondary code of <i>XMT</i>, while the name "Schmidt" yields a primary code of <i>XMT</i> and a secondary code of <i>SMT</i>—both have <i>XMT</i> in common.
</p><p>Double Metaphone tries to account for myriad irregularities in English of Slavic, Germanic, Celtic, Greek, French, Italian, Spanish, Chinese, and other origins. Thus it uses a much more complex ruleset for coding than its predecessor; for example, it tests for approximately 100 different contexts of the use of the letter C alone.
</p>
<h2><span class="mw-headline" id="Metaphone_3">Metaphone 3</span><span class="mw-editsection"></span></h2>
<p>A professional version was released in October 2009, developed by the same author, Lawrence Philips. It is a commercial product sold as source code. Metaphone 3 further improves phonetic encoding of words in the English language, non-English words familiar to Americans, and first names and family names commonly found in the United States. It improves encoding for proper names in particular to a considerable extent.<sup class="reference" id="cite_ref-6">[6]</sup> The author claims that in general it improves accuracy for all words from the approximately 89% of Double Metaphone to 98%. Developers can also now set switches in code to cause the algorithm to encode Metaphone keys 1) taking non-initial vowels into account, as well as 2) encoding voiced and unvoiced consonants differently. This allows the result set to be more closely focused if the developer finds that the search results include too many words that don't resemble the search term closely enough.<sup class="reference" id="cite_ref-7">[7]</sup> Metaphone 3 is sold as C++, Java, C#, PHP, Perl, and PL/SQL source, Ruby and Python wrappers accessing a Java jar, and also Metaphone 3 for Spanish and German pronunciation available as Java and C# source.<sup class="reference" id="cite_ref-8">[8]</sup> The latest revision of the Metaphone 3 algorithm is v2.5.4, released March 2015. The Metaphone3 Java source code for an earlier version, 2.1.3, lacking a large number of encoding corrections made in the current version, version 2.5.4, was included as part of the OpenRefine project and is publicly viewable.<sup class="reference" id="cite_ref-9">[9]</sup>
</p>
<h2><span class="mw-headline" id="Common_misconceptions">Common misconceptions</span><span class="mw-editsection"></span></h2>
<p>There are some misconceptions about the Metaphone algorithms that should be addressed.   The following statements are true:
</p>
<ol><li>All of them are designed to address regular, "dictionary" words, not just names, and</li>
<li>Metaphone algorithms do <b>not</b> produce phonetic representations of the input words and names; rather, the output is an intentionally <b>approximate</b> phonetic representation, according to this standard:</li></ol>
<dl><dd><dl><dd><ul><li>words that start with a vowel sound will have an 'A', representing any vowel, as the first character of the encoding (in Double Metaphone and Metaphone 3 - original Metaphone just preserves the actual vowel),</li>
<li>vowels after an initial vowel sound will be disregarded and not encoded, and</li>
<li>voiced/unvoiced consonant pairs will be mapped to the same encoding. (Examples of voiced/unvoiced consonant pairs are D/T, B/P, Z/S, G/K, etc.).</li></ul></dd></dl></dd></dl>
<p>This approximate encoding is necessary to account for the way English speakers vary their pronunciations and misspell or otherwise vary words and names they are trying to spell. Vowels, of course, are notoriously highly variable. British speakers often complain that Americans seem to pronounce 'T's the same as 'D'. Consider, also, that all English speakers often pronounce 'Z' where 'S' is spelled, almost always when a noun ending in a voiced consonant or a liquid is pluralized, for example "seasons", "beams", "examples", etc. Not encoding vowels after an initial vowel sound will help to group words where a vowel and a consonant may be transposed in the misspelling or alternative pronunciation.
</p>
<h2><span class="mw-headline" id="Metaphone_of_other_languages">Metaphone of other languages</span><span class="mw-editsection"></span></h2>
<p>Metaphone is useful for English variants and other languages, having been preferred to Soundex in several Indo-European languages. On the other hand, rough phonetic encoding causes language dependency — or, in a language variant,  average language-speaker dependency —  mainly for non-English variants.
</p><p>Perhaps the first example of stable adaptation of non-English metaphone was Brazilian Portuguese: it originated in ~2008 as a database solution in Várzea Paulista  municipality of Brazil, and it evolved to the current <code>metaphone-ptbr</code> algorithm.
</p>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"></span></h2>
<ul><li>Caverphone</li>
<li>New York State Identification and Intelligence System</li>
<li>Match Rating Approach</li>
<li>Approximate string matching</li></ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"></span></h2>

<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"></span></h2>
<ul><li>The Double Metaphone Search Algorithm, By Lawrence Phillips, June 1, 2000, Dr Dobb's, <i>Original article</i></li></ul>
<h3><span class="mw-headline" id="Metaphone_algorithms_for_other_languages">Metaphone algorithms for other languages</span><span class="mw-editsection"></span></h3>
<ul><li>Brazilian Portuguese in C Metaphone for Brazilian Portuguese, in C with PHP and PostgreSQL port.</li>
<li>Brazilian Portuguese in Java Metaphone for Brazilian Portuguese, in Java.</li>
<li>Spanish Metaphone in Python</li>
<li>Double Metaphone algorithm for Bangla</li>
<li>Double Metaphone algorithm for Amharic</li>
<li>Russian Metaphone in Ruby.</li>
<li>Metaphone 3 for Spanish and German</li>
<li>Double Metaphone and Metaphone in JavaScript</li></ul>
<!-- 
NewPP limit report
Parsed by mw1408
Cached time: 20221214135611
Cache expiry: 1814400
Reduced expiry: false
Complications: [vary‐revision‐sha1, show‐toc]
CPU time usage: 0.165 seconds
Real time usage: 0.220 seconds
Preprocessor visited node count: 449/1000000
Post‐expand include size: 10585/2097152 bytes
Template argument size: 729/2097152 bytes
Highest expansion depth: 13/100
Expensive parser function count: 3/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 18033/5000000 bytes
Lua time usage: 0.100/10.000 seconds
Lua memory usage: 4108520/52428800 bytes
Number of Wikibase entities loaded: 0/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  195.292      1 -total
 42.80%   83.577      5 Template:Cite_web
 23.58%   46.058      1 Template:Redirect
 21.37%   41.736      1 Template:Bare_URL_plain_text
 18.40%   35.938      1 Template:Fix
 11.63%   22.714      1 Template:Category_handler
  4.51%    8.805      1 Template:Anchor
  3.45%    6.742      1 Template:Delink
  3.06%    5.984      1 Template:Cite_journal
  1.63%    3.177      1 Template:Fix/category
-->
<!-- Saved in parser cache with key enwiki:pcache:idhash:36713-0!canonical and timestamp 20221214135611 and revision id 1098343634.
 -->
</div></body>
</html>